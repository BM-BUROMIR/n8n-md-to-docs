# Development Dockerfile for n8n-md-to-docs with Bun
FROM oven/bun:1.1.38-alpine

# Install Node.js and Firebase CLI
RUN apk add --no-cache nodejs npm openjdk11-jre && \
    npm install -g firebase-tools

# Set working directory
WORKDIR /app

# Copy package files
COPY package.json bun.lock* ./

# Install dependencies
RUN bun install

# Copy source code
COPY . .

# Build the project
RUN bun run build

# Expose ports for Firebase emulator
EXPOSE 5001 4000

# Start Firebase emulator
CMD ["bun", "run", "serve"]
